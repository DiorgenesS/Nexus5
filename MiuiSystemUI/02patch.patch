From 8b167bf459290ab7f22521648c3c547b84ceb685 Mon Sep 17 00:00:00 2001
From: Diorgenes <dyogenes_gd@hotmail.com>
Date: Tue, 11 Apr 2017 10:32:11 -0300
Subject: [PATCH 2/2] Fix for the notification counter for icons in the launcher

---
 .../smali/com/android/systemui/statusbar/phone/PhoneStatusBar.smali | 6 ++++++
 1 file changed, 6 insertions(+)

--- a/MiuiSystemUI/smali/com/android/systemui/statusbar/phone/PhoneStatusBar.smali
+++ b/MiuiSystemUI/smali/com/android/systemui/statusbar/phone/PhoneStatusBar.smali
@@ -7574,10 +7574,16 @@
     move-result v0
 
     .local v0, "count":I
+    :cond_skip1
+
     invoke-virtual {p2}, Lcom/android/systemui/statusbar/ExpandedNotification;->getNotification()Landroid/app/Notification;
 
     move-result-object v2
 
+    iget v1, v2, Landroid/app/Notification;->number:I
+
+    if-nez v1, :cond_skip2
+
     iget-object v2, v2, Landroid/app/Notification;->extraNotification:Landroid/app/MiuiNotification;
 
     invoke-virtual {v2}, Landroid/app/MiuiNotification;->getMessageCount()I
-- 
2.7.4

